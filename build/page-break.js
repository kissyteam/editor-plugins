define('kg/editor-plugins/1.1.3/page-break',["editor","./fake-objects","./button","node"],function(require, exports, module) {function e(){}var t=require("editor"),a=require("./fake-objects");require("./button");var r=require("node"),n="ke_pagebreak",o="div",s='<div style="page-break-after: always; "><span style="DISPLAY:none">&nbsp;</span></div>';e.prototype={pluginRenderUI:function(e){a.init(e);var i=e.htmlDataProcessor,d=i&&i.dataFilter;d.addRules({tags:{div:function(e){var t,a=e.getAttribute("style");if(a)for(var r=e.childNodes,s=0;s<r.length;s++)1===r[s].nodeType&&(t=r[s]);var d=t&&"span"===t.nodeName&&t.getAttribute("style");return d&&/page-break-after\s*:\s*always/i.test(a)&&/display\s*:\s*none/i.test(d)?i.createFakeParserElement(e,n,o):void 0}}}),e.addButton("pageBreak",{tooltip:"分页",listeners:{click:function(){var t=r(s,e.get("document")[0]),a=e.createFakeElement(t,n,o,!1,s);e.focus();var i=e.getSelection(),d=i&&i.getRanges()[0];if(d){e.execCommand("save");for(var l=d.startContainer,u=l;"body"!==l.nodeName();)u=l,l=l.parent();d.collapse(!0),d.splitElement(u),a.insertAfter(u),e.execCommand("save")}}},mode:t.Mode.WYSIWYG_MODE})}},module.exports=e;});