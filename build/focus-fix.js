define("kg/editor-plugins/1.1.3/focus-fix",["editor","ua"],function(e,t,o){function n(){var e=this;e._focusEditor=r.currentInstance();var t=e._focusEditor;if(u.ie&&t){window.focus(),document.body.focus();var o,n=t.get("document")[0].selection;try{o=n.createRange()}catch(c){o=0}if(o&&o.item&&o.item(0).ownerDocument===t.get("document")[0]){var i=document.body.createTextRange();i.moveToElementText(e.get("el").first()[0]),i.collapse(!0),i.select()}}}function c(){var e=this,t=e._focusEditor;t&&t.focus()}var i=e("editor"),u=e("ua"),r=i.focusManager;o.exports={init:function(e){e.on("beforeVisibleChange",function(t){t.newVal&&n.call(e)}),e.on("hide",function(){c.call(e)})}}});