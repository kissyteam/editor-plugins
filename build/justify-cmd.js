KISSY.add('kg/editor-plugins/1.1.2/justify-cmd',["editor"],function(S ,require, exports, module) {function e(e,a){e.focus(),e.execCommand("save");for(var n,o,r=e.getSelection(),i=r.createBookmarks(),c=r.getRanges(),m=c.length-1;m>=0;m--)for(n=c[m].createIterator(),n.enlargeBr=!0;o=n.getNextParagraph();)o.removeAttr("align"),t(o,a)?o.css("text-align",""):o.css("text-align",a);r.selectBookmarks(i),e.execCommand("save"),e.notifySelectionChange()}function t(e,t){var a=e.css("text-align").replace(n,"")||o;return a===t}var a=require("editor"),n=/(-moz-|-webkit-|start|auto)/gi,o="left";module.exports={addCommand:function(n,o,r){n.hasCommand(o)||(n.addCommand(o,{exec:function(t){e(t,r)}}),n.addCommand(a.Utils.getQueryCmd(o),{exec:function(e){var n=e.getSelection();if(n&&!n.isInvalid){var o=n.getStartElement(),i=new a.ElementPath(o),c=i.block||i.blockLimit;return c&&"body"!==c.nodeName()?t(c,r):!1}}}))}};});