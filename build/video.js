define("kg/editor-plugins/1.1.6/video",["editor","./flash-common/utils","./flash-common/base-class","./fake-objects","./button"],function(e,t,r){function o(e){this.config=e||{}}var i=e("editor"),n=e("./flash-common/utils"),a=e("./flash-common/base-class"),s=e("./fake-objects");e("./button");var l="ke_video",d="video";o.prototype={pluginRenderUI:function(e){function t(e){for(var t=0;t<u.length;t++){var r=u[t];if(r.reg.test(e))return r}return void 0}s.init(e);var r=e.htmlDataProcessor,o=r&&r.dataFilter,u=[],c=this.config;c.providers&&u.push.apply(u,c.providers),c.getProvider=t,o&&o.addRules({tags:{object:function(e){var o,i=e.getAttribute("classid"),a=e.childNodes;if(!i){for(o=0;o<a.length;o++)if("embed"===a[o].nodeName){if(!n.isFlashEmbed(a[o]))return null;if(t(a[o].getAttribute("src")))return r.createFakeParserElement(e,l,d,!0)}return null}for(o=0;o<a.length;o++){var s=a[o];if("param"===s.nodeName&&"movie"===s.getAttribute("name").toLowerCase()&&t(s.getAttribute("value")||s.getAttribute("VALUE")))return r.createFakeParserElement(e,l,d,!0)}},embed:function(e){return n.isFlashEmbed(e)?t(e.getAttribute("src"))?r.createFakeParserElement(e,l,d,!0):void 0:null}}},4);var f=new a({editor:e,cls:l,type:d,pluginConfig:this.config,bubbleId:"video",contextMenuId:"video",contextMenuHandlers:{"视频属性":function(){var e=this.get("editorSelectedEl");e&&f.show(e)}}});e.addButton("video",{tooltip:"插入视频",listeners:{click:function(){f.show()}},mode:i.Mode.WYSIWYG_MODE})}},r.exports=o});